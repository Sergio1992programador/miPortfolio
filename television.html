<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TelevisiÃ³n</title>
    <style>
        /* ============================================================
           CSS ORIGINAL INTACTO â€” no se modificÃ³ ninguna propiedad
           ============================================================ */
        body {
            margin: 0;
            padding: 0;
            background-image: url('simpsons1.png');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            height: 100vh;
        }

        img {
            width: 1300px;
            height: auto;
            background-size: cover;
        }

        @keyframes mano-entrando {
            0% {
                transform: translate(-1000px, -1000px) scale(0.3);
                opacity: 0;
            }
            60% {
                transform: translate(10px, 10px) scale(1.1);
                opacity: 1;
            }
            100% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
        }

        #video {
            background-color: rgb(0, 0, 0);
            width: 500px;
            height: 400px;
            border-radius: 25px;
            position: absolute;
            top: 210px;
            left: 360px;
        }

        #botones {
            background-color: #8d81c0;
            width: 95px;
            left: 860px;
            top: 220px;
            position: absolute;
            height: 360px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }

        #imagen-botones {
            width: 163px;
            top: 0px;
            height: 300px;
        }

        #video-uno {
            width: 499.999px;
            height: 610px;
            border-radius: 50px;
            position: absolute;
            top: -100px;
            left: 0px;
        }

        #television {
            position: relative;
        }

        .botones {
            background-image: url(btns.jpg);
            height: 40px;
            width: 40px;
            min-width: 40px;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            align-items: center;
            gap: 30px;
        }

        .rapida          { background-position: -122px 526px; }
        .lenta           { background-position: -162px 526px; }
        .mute            { background-position: -483px 526px; }
        .play-azul       { background-position: -4px 301px; }
        .pause-azul      { background-position: -281px 301px; }

        #rapido-cinco    { background-position: -202px 301px; }
        #rapido-cinco:active { background-position: -202px 526px; }

        #lento-cinco     { background-position: -241px 301px; }
        #lento-cinco:active  { background-position: -241px 526px; }

        #volumen-max     { background-position: 80px 301px; }
        #volumen-max:active  { background-position: 80px 526px; }

        #volumen-min     { background-position: 40px 301px; }
        #volumen-min:active  { background-position: 40px 526px; }

        .rapida-azul     { background-position: -123px 301px; }
        .lenta-azul      { background-position: -162px 301px; }

        #stop            { background-position: -443px 301px; }
        #stop:active     { background-position: -443px 526px; }

        .mute-rojo       { background-position: -483px 564px; }
        .mute            { background-position: -483px 301px; }
        .play-verde      { background-position: -4px 526px; }
        .pause-verde     { background-position: -281px 526px; }

        #mute:active     { background-position: -483px 526px; }

        #tiempo {
            position: absolute;
            top: 350px;
            color: white;
            left: 30px;
        }

        /* ============================================================
           ÃšNICO AÃ‘ADIDO CSS: permite que el wrapper sea escalable.
           En desktop no se aplica ningÃºn transform (lo gestiona el JS).
           ============================================================ */
        #wrapper-escalable {
            transform-origin: top left;
        }
    </style>
</head>
<body>

    <div id="wrapper-escalable">
        <div id="television">
            <div id="video">
                <video id="video-uno"><source src="ralph_compressed.mp4" type="video/mp4"></video>
                <p id="tiempo">Tiempo: 0 segundos</p>
            </div>
            <div id="botones">
                <button id="play"                class="botones play-azul"   title="Play"></button>
                <button id="pause"               class="botones pause-azul"  title="Pause"></button>
                <button id="rapido-cinco"        class="botones"             title="Avanza cinco segundos"></button>
                <button id="lento-cinco"         class="botones"             title="Retrocede cinco segundos"></button>
                <button id="volumen-max"         class="botones"             title="Sube el volumen"></button>
                <button id="volumen-min"         class="botones"             title="Baja el volumen"></button>
                <button id="reproduccion-rapida" class="botones rapida-azul" title="ReproducciÃ³n rÃ¡pida"></button>
                <button id="reproduccion-lenta"  class="botones lenta-azul"  title="ReproducciÃ³n lenta"></button>
                <button id="stop"                class="botones"             title="Stop"></button>
                <button id="mute"                class="botones mute"        title="Mute"></button>
            </div>
        </div>
    </div>

    <script>
        // â”€â”€ Referencias â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const play        = document.querySelector("#play");
        const pause       = document.querySelector("#pause");
        const rapidoCinco = document.querySelector("#rapido-cinco");
        const lentoCinco  = document.querySelector("#lento-cinco");
        const max         = document.querySelector("#volumen-max");
        const min         = document.querySelector("#volumen-min");
        const rapida      = document.querySelector("#reproduccion-rapida");
        const lenta       = document.querySelector("#reproduccion-lenta");
        const stop        = document.querySelector("#stop");
        const mute        = document.querySelector("#mute");
        const video       = document.querySelector("#video-uno");
        const tiempo      = document.querySelector("#tiempo");

        // â”€â”€ Funciones originales intactas â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function botonPlay() {
            video.play();
            video.playbackRate = 1;
            play.classList.remove("play-azul");    play.classList.add("play-verde");
            pause.classList.remove("pause-verde"); pause.classList.add("pause-azul");
            lenta.classList.add("lenta-azul");     lenta.classList.remove("lenta");
            rapida.classList.add("rapida-azul");   rapida.classList.remove("rapida");
        }

        function botonPause() {
            video.pause();
            pause.classList.remove("pause-blanco"); pause.classList.add("pause-verde");
            play.classList.remove("play-verde");     play.classList.add("play-azul");
            lenta.classList.add("lenta-azul");       lenta.classList.remove("lenta");
            rapida.classList.add("rapida-azul");     rapida.classList.remove("rapida");
        }

        function botonStop() {
            video.pause();
            video.currentTime = 0;
            play.classList.remove("play-verde");   play.classList.add("play-azul");
            pause.classList.remove("pause-verde"); pause.classList.add("pause-azul");
            rapida.classList.remove("rapida");     rapida.classList.add("rapida-azul");
            lenta.classList.remove("lenta");       lenta.classList.add("lenta-azul");
        }

        function botonMas() {
            if (video.volume < 1)   video.volume = video.volume + 0.1;
            if (video.volume > 0.9) console.log("El volumen estÃ¡ al mÃ¡ximo");
        }

        function botonMenos() {
            if (video.volume >= 0.1) video.volume = video.volume - 0.1;
            if (video.volume < 0.1)  console.log("El volumen estÃ¡ al mÃ­nimo");
        }

        function adelantarCinco() { video.currentTime = video.currentTime + 5; }
        function atrasarCinco()   { video.currentTime = video.currentTime - 5; }

        function camaraRapida() {
            if (video.playbackRate <= 15.9) video.playbackRate = video.playbackRate + 0.2;
            if (video.playbackRate >= 15.9) console.log("La velocidad estÃ¡ al mÃ¡ximo");
            if (video.playbackRate > 1) {
                rapida.classList.remove("rapida-azul"); rapida.classList.add("rapida");
                lenta.classList.remove("lenta");        lenta.classList.add("lenta-azul");
            }
            console.log(video.playbackRate);
            play.classList.remove("play-verde");   play.classList.add("play-azul");
            pause.classList.remove("pause-verde"); pause.classList.add("pause-azul");
            video.play();
            if (video.playbackRate == 1) {
                play.classList.remove("play-azul"); play.classList.add("play-verde");
                lenta.classList.remove("lenta");    lenta.classList.add("lenta-azul");
            }
        }

        function camaraLenta() {
            if (video.playbackRate >= 0.3) {
                video.playbackRate = video.playbackRate - 0.2;
                console.log(video.playbackRate);
            }
            if (video.playbackRate <= 0.3) console.log("La velocidad estÃ¡ al mÃ­nimo");
            if (video.playbackRate < 1) {
                lenta.classList.remove("lenta-azul"); lenta.classList.add("lenta");
                rapida.classList.remove("rapida");    rapida.classList.add("rapida-azul");
            }
            play.classList.remove("play-verde");   play.classList.add("play-azul");
            pause.classList.remove("pause-verde"); pause.classList.add("pause-azul");
            video.play();
            if (video.playbackRate == 1) {
                play.classList.remove("play-azul"); play.classList.add("play-verde");
                rapida.classList.remove("rapida");  rapida.classList.add("rapida-azul");
            }
        }

        function botonMute() {
            video.muted = !video.muted;
            mute.classList.toggle("mute-rojo");
            mute.classList.toggle("mute");
        }

        function mostrarTiempo() {
            let segundos = video.currentTime;
            tiempo.innerHTML = "Tiempo: " + parseInt(segundos) + " segundos";
            if (segundos >= 60) {
                let minuto = Math.floor(segundos / 60);
                let seg = parseInt(segundos % 60);
                if (segundos < 120) {
                    tiempo.innerHTML = "Tiempo: " + minuto + " minuto " + seg + " segundos ";
                } else {
                    tiempo.innerHTML = "Tiempo: " + minuto + " minutos " + seg + " segundos ";
                }
            }
        }

        setInterval(mostrarTiempo, 1000);

        play.addEventListener("click",        botonPlay);
        pause.addEventListener("click",       botonPause);
        stop.addEventListener("click",        botonStop);
        max.addEventListener("click",         botonMas);
        min.addEventListener("click",         botonMenos);
        rapidoCinco.addEventListener("click", adelantarCinco);
        lentoCinco.addEventListener("click",  atrasarCinco);
        rapida.addEventListener("click",      camaraRapida);
        lenta.addEventListener("click",       camaraLenta);
        mute.addEventListener("click",        botonMute);

        // â”€â”€ AnimaciÃ³n mano original intacta â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const rutaMano  = "mano-simpsons.png";
        const botonesTV = document.querySelectorAll(".botones");

        botonesTV.forEach(btn => {
            btn.addEventListener("click", (e) => {
                const rect   = e.target.getBoundingClientRect();
                const manoEl = document.createElement("img");
                manoEl.src              = rutaMano;
                manoEl.style.position   = "absolute";
                manoEl.style.width      = "100px";
                manoEl.style.zIndex     = "1000";
                manoEl.style.pointerEvents = "none";
                manoEl.style.opacity    = "1";
                manoEl.style.transition = "opacity 0.3s ease";
                manoEl.style.left       = (rect.left + window.scrollX - 40) + "px";
                manoEl.style.top        = (rect.top  + window.scrollY - 30) + "px";
                manoEl.style.animation  = "mano-entrando 0.5s ease-out";
                document.body.appendChild(manoEl);
                setTimeout(() => {
                    manoEl.style.opacity = "0";
                    setTimeout(() => manoEl.remove(), 1000);
                }, 800);
            });
        });

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // SISTEMA DE ESCALADO PROPORCIONAL â€” ÃšNICO CÃ“DIGO NUEVO
        //
        // ResoluciÃ³n base (tu pantalla): 2030 x 839
        // FÃ³rmula: escala = viewport_actual / viewport_base
        //
        // â€¢ Si viewport >= 2030px â†’ desktop â†’ transform: none (intacto)
        // â€¢ Si viewport <  2030px â†’ escala proporcional con scale(X, Y)
        //
        // El CSS del desktop NO fue tocado. Este JS solo aÃ±ade/quita
        // un transform en pantallas menores a la resoluciÃ³n base.
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const ANCHO_BASE = 2030;
        const ALTO_BASE  = 839;
        const wrapper    = document.getElementById("wrapper-escalable");

        function escalar() {
            const vw = window.innerWidth;
            const vh = window.innerHeight;

            if (vw >= ANCHO_BASE) {
                // âœ… DESKTOP: sin transform, diseÃ±o original 100% intacto
                wrapper.style.transform = "none";
                wrapper.style.width     = "";
                wrapper.style.height    = "";
                document.body.style.overflow = "";
            } else {
                // ðŸ“± TABLET / MÃ“VIL: escala proporcional matemÃ¡tica
                const escalaX = vw / ANCHO_BASE;  // ratio ancho
                const escalaY = vh / ALTO_BASE;   // ratio alto
                wrapper.style.width     = ANCHO_BASE + "px";
                wrapper.style.height    = ALTO_BASE  + "px";
                wrapper.style.transform = `scale(${escalaX}, ${escalaY})`;
                document.body.style.overflow = "hidden";
            }
        }

        window.addEventListener("resize", escalar);
        escalar(); // ejecutar al cargar la pÃ¡gina
    </script>
</body>
</html>
